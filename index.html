<html>
  <head></head>
  <body>
    <script src="./dist/umd/index.js"></script>
    <script>
      const lunar = () => {
        async function get () {
          const res = await fetch('https://jsonplaceholder.typicode.com/todos/1')
          return res.json()
        }

        const subtract = (a, b) => {
          console.log(a-b)
        }

        const division = function (a, b) {
          console.log(a/b)
        }

        ondata = (data) => {
          console.log(data)
        }
      }

      const lunarMission = WebWorker(lunar)

      lunarMission.get().then(d => console.log(d))

      lunarMission.subtract(4, 2)

      lunarMission.call('division', 6, 3)

      lunarMission.message('Hello')

      lunarMission.append(' World')

      lunarMission.postMessage()

      lunarMission.message({
        firstName: 'Dhruv'
      })

      lunarMission.append({
        lastName: 'Jain'
      })

      lunarMission.postMessage()

      lunarMission.message([1])

      lunarMission.append([2])

      lunarMission.postMessage()

      lunarMission.onerror((error) => {
        console.log(error)
      })

      console.log(lunarMission.getMessage())

      setTimeout(() => lunarMission.kill(), 1000)
      
    </script>
  </body>
</html>